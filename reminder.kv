#:import wd kivy.core.window.Window
#:import CardTransition kivy.uix.screenmanager.CardTransition

<ScreenManagerMain>:
    transiton:CardTransition()

<MainScreen>:
    canvas:
        Color:
            rgba:44/250,62/250,80/250, 1
        Rectangle:
            size:self.size
            pos:self.pos

    RelativeLayout:
        size:self.size
        pos:self.pos
        id:ele3
        canvas.before:
            PushMatrix
            Rotate:
                angle: 5
                axis: 0,0,1
                origin: root.center[0]-self.width/1.8, root.center[1]+self.height/2
        canvas.after:
            PopMatrix
        ListBlueprint:
            pos_hint:{'center_x':.42, "center_y":.5}
            size_hint:.73,.70
            md_bg_color:90/255,89/255,101/255,1


    RelativeLayout:
        size:self.size
        pos:self.pos
        id:ele2
        canvas.before:
            PushMatrix
            Rotate:
                angle: 3
                axis: 0,0,1
                origin: root.center[0]-self.width/1.8, root.center[1]+self.height/2
        canvas.after:
            PopMatrix
        ListBlueprint:
            pos_hint:{'center_x':.45, "center_y":.5}
            size_hint:.78,.70
            md_bg_color:70/255,69/255,81/255,1

    RelativeLayout:
        size:self.size
        pos:self.pos
        id:ele1
        canvas.before:
            PushMatrix
            Rotate:
                angle: 0
                axis: 0,0,1
                origin: root.center[0]-self.width/1.8, root.center[1]+self.height/2
        canvas.after:
            PopMatrix
        ListBlueprint:
            md_bg_color:50/255,49/255,61/255,1
            elevation:13
            size_hint:.85,.70
            pos_hint:{'center_x':.5, "center_y":.5}

    MDFloatingActionButtonSpeedDial:
        id:action_button
        data:app.data
        icon: "plus"
        callback: app.plus_button_callback
        root_button_anim: True


<ReminderScreen>:
    canvas:
        Color:
            rgba:50/255,49/255,61/255,1
        Rectangle:
            size:self.size
            pos:self.pos

    MDIconButton:
        id:back_button
        icon:'arrow-left'
        pos_hint:{'center_x':.1, "center_y":.94}

    ScrollView:
        size_hint:1, None
        width:wd.width-dp(20)
        height:wd.height-dp(100)
        pos:self.parent.pos
        GridLayout:
            id:container
            pos:self.parent.pos
            size_hint_y:None
            height:self.minimum_height
            cols:1
            padding:30,0,30,0
            spacing:'20dp'


<ReminderTitleBlueprint>:
    radius:60,60,60,60
    md_bg_color: 218/255,68/255,83/255, 1
    elevation:10
    size_hint:1, None
    orientation:'vertical'
    padding:50,0,50,0

    MDTextField:
        id:heading
        text:
        pos_hint:{'center_x':.5, "center_y":.5}
        size_hint:1,None
        on_size:root.height = self.height
        font_name:'Roboto-Black.ttf'
        font_size:'30sp'
        multiline:True
        color_mode: 'custom'
        line_color_focus: 1,1,1,1
        current_hint_text_color:1,1,1,1

<ReminderDescriptionBlueprint>:
    radius:40,40,40,40
    md_bg_color:70/255,69/255,81/255,1
    elevation:10
    size_hint:1, None
    orientation:'vertical'
    padding:50,0,50,0
    Label:
        id:label
        text:'Description:'
        size: self.texture_size
        size_hint:None,None
        font_name:'Roboto-Black.ttf'
        font_size:'25sp'
    MDTextField:
        id:description
        text:
        size_hint:1,None
        font_name:'Roboto-Medium.ttf'
        font_size:'23sp'
        multiline:True
        color_mode: 'custom'
        line_color_focus: 1,1,1,1
        current_hint_text_color:1,1,1,1
        on_size:root.height = self.height + root.ids.label.height +dp(20)

<ReminderTimingBlueprint>:
    radius:40,40,40,40
    md_bg_color:70/255,69/255,81/255,1
    elevation:10
    size_hint:1, None
    orientation:'vertical'
    padding:50,50,50,50

    BoxLayout:
        id:holder
        on_size:root.height = self.minimum_height+100
        cols:1
        height:self.minimum_height
        spacing:dp(20)
        orientation:'vertical'

        Label:
            id:label1
            text:'Reminding You At:'
            size: self.texture_size
            size_hint:None,None
            font_name:'Roboto-Black.ttf'
            font_size:'25sp'

        MDFillRoundFlatIconButton:
            id:time_picker
            text: 'Time'
            font_size:'22sp'
            icon:'clock'
            size_hint:None,None
            width:root.width/1.5
            pos_hint:{'center_x':.5, 'center_y':.5}
            icon_color:218/255,68/255,83/255,1
            line_color:218/255,68/255,83/255,1
            text_color:218/255,68/255,83/255,1
            md_bg_color:50/255,49/255,61/255,1

        GridLayout:
            height:self.minimum_height
            cols:3
            spacing:'30dp'
            size_hint_y:None

            Label:
                id:label2
                text:'On These:'
                size: self.texture_size
                size_hint:None,None
                font_name:'Roboto-Black.ttf'
                font_size:'25sp'
                valign:'top'
            MDChipContainer:
                type:'choice'
                id:type
                spacing:dp(5)
                MDChip:
                    id:days
                    text: 'Days'
                    icon: 'calendar'
                    selected_chip_color:218/255,68/255,83/255,1
                    color:50/255,49/255,61/255,1
                MDChip:
                    id:dates
                    text: 'Dates'
                    icon: 'face'
                    selected_chip_color:218/255,68/255,83/255,1
                    color:50/255,49/255,61/255,1

                MDChip:
                    id:none
                    text:'None'
                    icon:'close'
                    selected_chip_color:218/255,68/255,83/255,1
                    color:50/255,49/255,61/255,1
        MDChipContainer:
            id:days_container
            type:'choice'
            multiple:True
            size_hint:None,None
            height:self.minimum_height
            spacing:dp(5)
            pos_hint:{'center_x':.2}


<ReminderDatesBlueprint>:
    height:self.minimum_height
    size_hint_y:None
    spacing:'40dp'
    cols:2
    MDFillRoundFlatIconButton:
        id:date_picker
        text: 'Date'
        font_size:'22sp'
        icon:'calendar'
        icon_color:218/255,68/255,83/255,1
        line_color:218/255,68/255,83/255,1
        text_color:218/255,68/255,83/255,1
        md_bg_color:50/255,49/255,61/255,1

    MDIconButton:
        icon:'minus'
        md_bg_color:50/255,49/255,61/255,1
        theme_text_color: "Custom"
        text_color:218/255,68/255,83/255,1


<ReminderSaveBlueprint>:
    radius:40,40,40,40
    md_bg_color:44/250,62/250,80/250, 1
    elevation:10
    size_hint:1, None
    padding:50,0,50,0
    orientation:'horizontal'
    height:self.minimum_height + 100
    spacing:dp(20)

    MDFillRoundFlatButton:
        id:cancel_button
        text:'Cancel'
        font_size:'22sp'
        md_bg_color:50/255,49/255,61/255,1
        text_color:218/255,68/255,83/255,1
        pos_hint:{'center_y':.5}

    MDFillRoundFlatButton:
        id:save_button
        text:'Save'
        font_size:'22sp'
        md_bg_color:218/255,68/255,83/255,1
        text_color:50/255,49/255,61/255,1
        pos_hint:{'center_y':.5}





<ListContent>:
    pos:self.pos
    size:self.size
    Label:
        id:heading
        text:'Reminder'
        size: self.texture_size
        text_size:(self.parent.size[0]-self.parent.size[0]/3.5, self.parent.height)
        pos_hint:{ "center_y":.5}
        valign:'top'
        underline:True
        halign:'left'
        padding:("15dp", "20dp")
        font_name:"Roboto-Black.ttf"
        font_size:'30sp'
        shorten:True
        shorten_from:"right"

    MDRaisedButton:
        id:view_button
        pos_hint:{'center_x':.87, "center_y":.93}
        size_hint:.19,.06
        md_bg_color: 218/255,68/255,83/255, 1
        text:"View"
        elevation:9
        font:"Roboto-Regular.ttf"

    GridLayout:
        cols:1
        id:reminder_container
        pos_hint:{"center_x":.5, "center_y":.45}
        size_hint:1,.80
        padding:(30,20,20,20)
        spacing:'20dp'

<ListReminderElement>:
    name:
    size_hint:1,None
    height:self.minimum_height
    orientation:'horizontal'
    completed:False
    MDCheckbox:
        id:check_box
        checkbox_icon_normal:"checkbox-blank-circle-outline"
        checkbox_icon_down:"checkbox-marked-circle"
        size: "20dp", "20dp"
        size_hint:None, None
        pos_hint:{'top':1}
        active:root.completed

    Label:
        id:text
        text:
        size_hint:None,None
        size:self.texture_size
        padding:("10dp", "0dp")
        markup:True
        max_lines:4
        split_str:' '
        text_size: self.parent.width, None
        font_size:'20sp'

<ListBlueprint>:
    orientation:'vertical'
    opacity:1
    elevation:0
    radius:60,60,60,60


<ListViewBanner>:
    elevation:10
    md_bg_color:44/250,62/250,80/250, 1
    pos_hint:{"center_x":.5, "center_y":.9}
    size_hint:1,0.1
    radius:0,0,dp(40), dp(40)

    FloatLayout:
        size:self.parent.size
        pos:self.parent.pos

        MDIconButton:
            id:back_button
            icon:'arrow-left'
            pos_hint:{"center_x":.1, "center_y":.5}

        Label:
            id:list_title
            font_name:"Roboto-Bold.ttf"
            font_size:"20sp"
            text_size:root.width- dp(100), dp(20)
            shorten:True
            shorten_from:"right"
            pos_hint:{"center_x":.5, "center_y":.5}
            halign:'center'

        MDIconButton:
            id:delete_button
            icon:'delete'
            pos_hint:{"center_x":.9, "center_y":.5}


<ListViewBlueprint>:
    viewclass: 'IndivualReminderElementBlueprint'
    data:
    SelectableRecycleBoxLayout:
        id: container
        default_size: None, dp(80)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        padding: 10,10,10,0
        spacing:'5dp'




<IndivualReminderElementBlueprint>:
    text_title: ''
    text_description:" "
    name:
    completed:False
    show_button:1
    md_bg_color:218/255,68/255,83/255,1
    elevation:0
    alignment:'left'
    padding:0,0,0,0
    font:'Roboto-Medium.ttf'
    fontsize:'18sp'
    MDCard:
        md_bg_color:root.md_bg_color
        elevation:root.elevation
        radius:40,40,40,40


        MDCheckbox:
            id:check_box
            checkbox_icon_normal:"checkbox-blank-circle-outline"
            checkbox_icon_down:"checkbox-marked-circle"
            size: "60dp", "60dp"
            size_hint:None, None
            pos_hint:{'center_y':.5}
            active:root.completed
            opacity:root.show_button

        BoxLayout:
            padding:10,0,0,0
            orientation:"vertical"
            size_hint:1,1
            separation:'20dp'

            Label:
                id:title
                text:root.text_title
                size_hint:None,None
                size:self.texture_size
                text_size:self.parent.parent.width-dp(70), dp(20)
                font_name:root.font
                font_size:root.fontsize
                shorten:True
                shorten_from:"right"
                halign:root.alignment
            Label:
                id:desc
                text:root.text_description
                size_hint:None,None
                size:self.texture_size
                text_size:self.parent.parent.width-dp(70), dp(40)
                font_name:"Roboto-Regular.ttf"
                color:1,1,1,0.5
                font_size:"16sp"
                split_str:' '
                valign:"top"


<NewListBlueprint>:
    size_hint:1,1
    Label:
        text:"Create a new List"
        size: self.texture_size
        pos_hint:{ "center_y":.8}
        underline:True
        halign:'left'
        padding:("15dp", "20dp")
        font_name:"Roboto-Black.ttf"
        font_size:'30sp'

    MDTextField:
        hint_text: 'Enter a new list name'
        pos_hint:{ "center_y":.6, 'center_x':.5}
        size_hint: 0.8,0.15
        color_mode: 'custom'
        line_color_focus:218/255,68/255,83/255, 1
        current_hint_text_color:1,1,1,1
        font_name:'Roboto-Black.ttf'
        font_size:'25sp'

    MDRaisedButton:
        id:confirm_button
        pos_hint:{'center_x':.25, "center_y":.3}
        size_hint:.2,.08
        md_bg_color: 218/255,68/255,83/255, 1
        text:"Confirm"
        elevation:9
        font:"Roboto-Regular.ttf"
    MDRaisedButton:
        id:cancel_button
        pos_hint:{'center_x':.75, "center_y":.3}
        size_hint:.2,.08
        md_bg_color: 218/255,68/255,83/255, 1
        text:"Cancel"
        elevation:9
        font:"Roboto-Regular.ttf"
